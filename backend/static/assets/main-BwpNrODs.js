import{j as e,L as b,U as y,r as a,O as w,u as N,a as v,b as S,R as A,c as o,S as p,d as g,N as j,B as C,e as I,C as k}from"./index-CTb74TWU.js";const K=()=>e.jsxs("header",{className:"bg-gray-100 p-4 flex justify-between items-center shadow",children:[e.jsx("div",{className:"font-semibold text-lg",children:"Dashboard"}),e.jsx(b,{href:"/invite-admin",children:e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded cursor-pointer",children:"Invite Admin User"})}),e.jsx("div",{className:"bg-white w-10 h-10 flex items-center justify-center rounded-full shadow-md",children:e.jsx(y,{})})]}),O=()=>e.jsxs("aside",{className:"w-64 bg-gray-200 p-4 flex flex-col h-screen",children:[e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-32 mx-auto"})}),e.jsx("nav",{className:"flex-1",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{className:"font-semibold",children:"Cost-Savings Dashboard"}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"📊"})," ",e.jsx(b,{to:"/dashboard",children:"All Savings"})]}),e.jsxs("li",{className:"font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"🟣"})," ",e.jsx("span",{children:"Datadog"})]}),e.jsx("li",{className:"pl-4",children:"Custom Metrics"}),e.jsx("li",{className:"pl-4",children:"Instances"}),e.jsx("li",{className:"pl-4",children:"Indexed Spans"}),e.jsx("li",{className:"pl-4",children:"Ingested Spans"}),e.jsx("li",{className:"pl-4",children:"Profiling Hosts"}),e.jsx("li",{className:"pl-4",children:"Browser Tests"}),e.jsxs("li",{className:"font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"🟢"})," ",e.jsx("span",{children:"New Relic"})]}),e.jsx("li",{className:"pl-4",children:"User Costs"}),e.jsx("li",{className:"pl-4",children:"RUM Costs"}),e.jsx("li",{className:"font-semibold flex items-center space-x-2",children:e.jsxs(b,{to:"/dashboard/report",children:[e.jsx("span",{children:"🟠"})," ",e.jsx("span",{children:"AWS Savings"})]})}),e.jsx("li",{className:"pl-4",children:"Cloudwatch Put"}),e.jsx("li",{className:"pl-4",children:"Cloudwatch Stream"})]})})]}),f=()=>(a.useEffect(()=>{console.log("Dashboard Component Loaded!")},[]),e.jsxs("div",{className:"flex h-screen",children:[e.jsx(O,{}),e.jsxs("main",{className:"flex-1 bg-gray-300 flex flex-col",children:[e.jsx(K,{}),e.jsxs("section",{className:"flex-1 flex items-center justify-center p-6",children:[e.jsx(w,{})," "]})]})]})),R=()=>{const{user:n}=N(),{user:t}=v(),i=S(),[l,h]=a.useState({datadog:!1,newrelic:!1,aws:!1}),[r,u]=a.useState({datadogApiKey:"",newrelicApiKey:"",awsAccessKey:"",awsSecretKey:""}),d=s=>{h(m=>({...m,[s]:!m[s]}))},x=s=>{u(m=>({...m,[s.target.name]:s.target.value}))};a.useEffect(()=>{localStorage.getItem("onboarded")==="true"&&i("/dashboard")},[i]);const c=s=>{s.preventDefault(),n&&(localStorage.setItem("onboarded","true"),localStorage.setItem("onboardingData",JSON.stringify({selectedOptions:l,formData:r}))),i("/dashboard",{replace:!0})};return e.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:e.jsxs("div",{className:"w-full max-w-lg p-6 bg-white shadow-lg rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:n!=null&&n.organization?`${n.organization.name} Onboarding`:"Onboarding"}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:l.datadog,onChange:()=>d("datadog")}),e.jsx("span",{className:"font-semibold text-gray-700",children:"Datadog Cost Savings"})]}),l.datadog&&e.jsx("input",{type:"text",name:"datadogApiKey",placeholder:"API Key",className:"w-full p-2 mt-2 bg-gray-200 rounded",onChange:x,value:r.datadogApiKey})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:l.newrelic,onChange:()=>d("newrelic")}),e.jsx("span",{className:"font-semibold text-gray-700",children:"NewRelic Cost Savings"})]}),l.newrelic&&e.jsx("input",{type:"text",name:"newrelicApiKey",placeholder:"API Key",className:"w-full p-2 mt-2 bg-gray-200 rounded",onChange:x,value:r.newrelicApiKey})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:l.aws,onChange:()=>d("aws")}),e.jsx("span",{className:"font-semibold text-gray-700",children:"AWS Cost Savings"})]}),l.aws&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",name:"awsAccessKey",placeholder:"Access Key",className:"w-full p-2 mt-2 bg-gray-200 rounded",onChange:x,value:r.awsAccessKey}),e.jsx("input",{type:"password",name:"awsSecretKey",placeholder:"Secret Key",className:"w-full p-2 mt-2 bg-gray-200 rounded",onChange:x,value:r.awsSecretKey})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold mt-4 hover:bg-blue-700",children:"Save & Calculate Cost Savings"})]})]})})},E=()=>e.jsx("h1",{className:"text-2xl font-bold text-center",children:"⚙ Settings Page"}),U=()=>e.jsx("h1",{className:"text-2xl font-bold text-center",children:"📊 Reports Page"}),D=()=>e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Lorem Ipsum"})}),P=()=>{const[n,t]=a.useState(""),[i,l]=a.useState([]),[h,r]=a.useState(!1),[u,d]=a.useState("");a.useEffect(()=>{l([{name:"Lindsey Stroud",email:"lindsey.stroud@metricszero.com",role:"Admin"},{name:"Sarah Browen",email:"sarah.brown@metricszero.com",role:"Admin"},{name:"Micael Owen",email:"michael.owen@gmail.com",role:"Admin"}])},[]);const x=async c=>{c.preventDefault(),d("");try{const s=await fetch("/api/invite-admin/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),m=await s.json();s.ok?(d("Invitation sent successfully!"),t(""),r(!1)):d(m.error||"Something went wrong.")}catch{d("Server error. Please try again.")}};return e.jsxs("div",{className:"flex h-screen",children:[e.jsxs("aside",{className:"w-64 bg-gray-200 p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),e.jsx("ul",{className:"mt-4",children:e.jsx("li",{className:"text-gray-600 font-semibold",children:"Admin Users"})})]}),e.jsxs("div",{className:"flex-1 bg-gray-300 p-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Admin Users"}),e.jsx("button",{onClick:()=>r(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:"Invite Admin User"})]}),e.jsx("div",{className:"bg-white mt-4 p-4 rounded-lg shadow",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"text-left p-2",children:"Name"}),e.jsx("th",{className:"text-left p-2",children:"Email Address"}),e.jsx("th",{className:"text-left p-2",children:"Role"}),e.jsx("th",{className:"text-left p-2",children:"Action"})]})}),e.jsx("tbody",{children:i.map((c,s)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:c.name}),e.jsx("td",{className:"p-2",children:c.email}),e.jsx("td",{className:"p-2",children:c.role}),e.jsx("td",{className:"p-2 text-red-500 cursor-pointer",children:"❌"})]},s))})]})})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Invite an Admin"}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsx("input",{type:"email",placeholder:"Admin Email",value:n,onChange:c=>t(c.target.value),required:!0,className:"p-2 border rounded w-full"}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Send Invite"})]})]}),u&&e.jsx("p",{className:"mt-4 text-red-500",children:u})]})})]})},L=({children:n})=>{const{user:t}=N(),[i,l]=a.useState(null);return a.useEffect(()=>{if(t!=null&&t.id){const h=localStorage.getItem("onboarded")==="true";l(h)}},[t==null?void 0:t.id]),t?i===null?null:i?n:e.jsx(j,{to:"/onboarding",replace:!0}):e.jsx(j,{to:"/login"})},B=()=>e.jsxs(A,{children:[e.jsx(o,{path:"/",element:e.jsx(e.Fragment,{children:"Main App"})}),e.jsx(o,{path:"/onboarding",element:e.jsxs(e.Fragment,{children:[e.jsx(p,{children:e.jsx(R,{})}),e.jsx(g,{children:e.jsx(j,{to:"/login",replace:!0})})]})}),e.jsx(o,{path:"/invite-admin",element:e.jsxs(e.Fragment,{children:[e.jsx(p,{children:e.jsx(P,{})}),e.jsx(g,{children:e.jsx(j,{to:"/login",replace:!0})})]})}),e.jsxs(o,{path:"/dashboard/*",element:e.jsxs(e.Fragment,{children:[e.jsx(p,{children:e.jsx(L,{children:e.jsx(f,{})})}),e.jsx(g,{children:e.jsx(j,{to:"/login",replace:!0})})]}),children:[e.jsx(o,{index:!0,element:e.jsx(D,{})}),e.jsx(o,{path:"settings",element:e.jsx(E,{})}),e.jsx(o,{path:"report",element:e.jsx(U,{})}),"   "]}),e.jsx(o,{path:"*",element:e.jsx(f,{})})]});function M(){return e.jsx(e.Fragment,{children:e.jsx(C,{children:e.jsx(B,{})})})}const F="pk_test_YWJzb2x1dGUtcGlyYW5oYS0xOS5jbGVyay5hY2NvdW50cy5kZXYk";I.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(k,{publishableKey:F,afterSignOutUrl:"/",children:e.jsx(M,{})})}));
